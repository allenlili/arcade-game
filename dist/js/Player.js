var Player=function(t,e,i,s,r,c){Character.call(this,t,e),this.score=i,this.lives=s,this.win=r,this.sprite=c,this.current_x=t,this.current_y=e};Player.prototype.update=function(t,e){switch(t){case"left":this.current_x-=e;break;case"right":this.current_x+=e;break;case"up":this.current_y-=e;break;case"down":this.current_y+=e}this.checkDead(),this.checkOneRoundWin(),this.checkWin(),this.checkCollisions()},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.current_x,this.current_y),ctx.font="29px Impact",ctx.textAlign="center",ctx.lineWidth=2;var t=this.lives<0?0:this.lives,e=3<=this.score?3:this.score,i="score: "+e+"<=3, lives: "+t;if(ctx.fillStyle="red",ctx.fillText(i,252.5,576),ctx.strokeStyle="black",ctx.strokeText(i,252.5,576),0!==this.win){var s=1===this.win?"😁You win!😁":"😂You lose!😂";alert("Total score="+e+"! "+s),this.reset()}},Player.prototype.handleInput=function(t){"left"===t&&0<=this.current_x-101?this.update("left",101):"right"===t&&this.current_x+101<405?this.update("right",101):"up"===t&&(0<this.current_y-82.5||0<=this.current_y-60.5)?this.update("up",82.5):"down"===t&&this.current_y+82.5<412.5&&this.update("down",82.5)},Player.prototype.reset=function(){this.resetPos(),this.score=0,this.lives=maxLives,this.win=0},Player.prototype.resetPos=function(){this.current_x=this.init_x,this.current_y=this.init_y},Player.prototype.checkOneRoundWin=function(){this.current_y<=-23&&(this.resetPos(),this.score+=1),this.optimise.call(this,"current_y",-22,.1)},Player.prototype.checkWin=function(){this.score>=maxScore&&(this.win=1)},Player.prototype.checkDead=function(){this.lives<0&&(this.win=2)},Player.prototype.checkCollisions=function(){allEnemies.forEach(function(t){Math.abs(t.current_y-this.current_y)<10&&Math.abs(t.current_x-this.current_x)<75&&(this.lives-=1,this.resetPos())}.bind(this))},Player.prototype.optimise=function(t,e,i){this[t]<=e&&(this[t]-=i)};